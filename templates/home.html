{% extends 'base.html' %}
{% load static %}

{% block title %}Home{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<style>
    .hero-slider {
        height: 100vh;
        min-height: 600px;
        max-height: 900px;
    }
    
    .hero-slider .splide__slide {
        position: relative;
        height: 100%;
    }
    
    .hero-slider .hero-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
    }
    
    .hero-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(to right, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.2) 100%);
    }
    
    .hero-content {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        z-index: 10;
    }
    
    .hero-slider .splide__arrows {
        display: none;
    }
    
    .hero-slider .splide__pagination {
        bottom: 2rem;
    }
    
    .hero-slider .splide__pagination__page {
        background: rgba(255, 255, 255, 0.5);
        width: 12px;
        height: 12px;
    }
    
    .hero-slider .splide__pagination__page.is-active {
        background: white;
        transform: scale(1.3);
    }
    
    /* Magnetic Button Effect */
    .magnetic-btn {
        position: relative;
        transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        cursor: pointer;
        overflow: hidden;
    }
    
    .magnetic-btn:hover {
        transform: translateY(-2px);
    }
    
    .magnetic-btn::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: inherit;
        opacity: 0;
        transition: opacity 0.3s;
    }
    
    .magnetic-btn-primary {
        box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
    }
    
    .magnetic-btn-primary::before {
        background: linear-gradient(45deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));
    }
    
    .magnetic-btn-secondary::before {
        background: linear-gradient(45deg, rgba(255,255,255,0.2), rgba(255,255,255,0));
    }
    
    .magnetic-btn:hover::before {
        opacity: 1;
    }
    
    /* Step Card Styling */
    .step-card {
        position: relative;
        overflow: hidden;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .step-number {
        position: absolute;
        top: -20px;
        right: -20px;
        font-size: 120px;
        font-weight: 900;
        color: rgba(16, 185, 129, 0.08);
        line-height: 1;
        transition: all 0.4s ease;
        z-index: 0;
        pointer-events: none;
    }
    
    .step-card:hover {
        transform: translateY(-8px);
        border-color: #10b981;
    }
    
    .step-card:hover .step-number {
        color: rgba(16, 185, 129, 0.15);
        transform: scale(1.1) rotate(5deg);
    }
    
    .step-content {
        position: relative;
        z-index: 1;
    }
    
    .step-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        font-weight: bold;
        font-size: 22px;
        box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
        margin-bottom: 1.5rem;
        transition: all 0.3s ease;
    }
    
    .step-card:hover .step-badge {
        transform: scale(1.1) rotate(360deg);
        box-shadow: 0 6px 20px rgba(16, 185, 129, 0.6);
    }
    
    @media (max-width: 768px) {
        .hero-slider {
            min-height: 500px;
        }
        
        .hero-overlay {
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.7) 100%);
        }
        
        .step-number {
            font-size: 80px;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section with Image Slider -->
<section class="hero-slider">
    <div id="hero-slider" class="splide h-full">
        <div class="splide__track h-full">
            <ul class="splide__list h-full">
                {% if latest_images %}
                    {% for image in latest_images %}
                    <li class="splide__slide">
                        <img src="{{ image.image.url }}" alt="Hero Image {{ forloop.counter }}" class="hero-image">
                        <div class="hero-overlay"></div>
                    </li>
                    {% endfor %}
                {% else %}
                    <li class="splide__slide">
                        <img src="{% static 'image/bg5.jpg' %}" alt="Hero Image" class="hero-image">
                        <div class="hero-overlay"></div>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
    
    <!-- Hero Content Overlay -->
    <div class="hero-content">
        <div class="max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8">
            <div class="max-w-2xl" data-aos="fade-up" data-aos-duration="1000">
                <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight drop-shadow-2xl">
                    {{ index.title }}
                </h1>

                <p class="text-lg sm:text-xl md:text-2xl text-gray-100 mb-6 sm:mb-8 leading-relaxed drop-shadow-lg">
                    {{ index.description }}
                </p>

                <div class="flex flex-col sm:flex-row gap-4" data-aos="fade-up" data-aos-delay="200">
                    <button
                        class="magnetic-btn magnetic-btn-primary bg-white text-gray-900 hover:bg-gray-100 font-semibold py-3.5 px-8 rounded-lg text-base md:text-lg transition-all duration-300">
                        Get Started
                    </button>

                    <button
                        class="magnetic-btn magnetic-btn-secondary border-2 border-white text-white hover:bg-white hover:text-gray-900 font-semibold py-3.5 px-8 rounded-lg text-base md:text-lg transition-all duration-300">
                        Learn More
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Partners Section -->
<section class="py-12 md:py-16 bg-gradient-to-b from-green-50 to-green-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-10" data-aos="fade-up">
            <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl mb-2">{{index_partners.title}}</h2>
            <p class="mt-3 max-w-2xl mx-auto text-lg text-gray-600">
                {{ index_partners.description }}
            </p>
        </div>
        <div id="logo-slider" class="splide" data-aos="fade-up" data-aos-delay="100">
            <div class="splide__track">
                <ul class="splide__list">
                    {% for img in index_partner_images %}
                    <li class="splide__slide flex justify-center items-center p-4 border border-gray-200 rounded-xl h-24 sm:h-28 hover:shadow-lg transition-all bg-white">
                        <img class="h-full w-auto max-h-14 sm:max-h-18 object-contain filter grayscale hover:grayscale-0 transition-all"
                             src="{{ img.image.url }}"
                             alt="Partner Logo {{ forloop.counter }}">
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="py-16 px-4 bg-white">
    <div class="max-w-7xl mx-auto">
        <div class="text-center mb-12" data-aos="fade-up">
            <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">{{index_howitworks.title}}</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">{{index_howitworks.description}}</p>
        </div>

        <div class="container mx-auto px-4 py-6 mb-16">
            <div class="grid md:grid-cols-2 gap-10 items-center">
                <!-- Left side: Video thumbnail -->
                <div class="relative" data-aos="fade-right">
                    <div class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl overflow-hidden aspect-video flex items-center justify-center shadow-2xl">
                        <div class="text-center text-white p-8">
                            <div class="w-20 h-20 mx-auto mb-4 bg-white bg-opacity-20 rounded-full flex items-center justify-center backdrop-blur-sm">
                                <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"/>
                                </svg>
                            </div>
                            <h3 class="text-2xl font-bold">Guideline Video</h3>
                            <p class="text-sm opacity-90 mt-2">Watch how it works</p>
                        </div>
                    </div>
                </div>
                
                <div class="p-4" data-aos="fade-left">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6">{{index_howitworks.second_title}}</h2>
                    <div class="text-gray-600 mb-8 space-y-4">
                        <p class="text-lg leading-relaxed">{{index_howitworks.secondary_description}}</p>
                        <p class="font-semibold text-gray-800">Thank you.</p>
                    </div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button class="bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 px-8 rounded-lg transition-all hover:shadow-lg transform hover:-translate-y-1">
                            Read More
                        </button>
                        <button class="border-2 border-gray-800 px-8 py-3 rounded-lg font-semibold text-gray-900 hover:bg-gray-800 hover:text-white transition-all">
                            Start Business
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Features Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for obj in index_howitworks_obj %}
            <div class="step-card text-center p-8 shadow-lg bg-white rounded-2xl border-2 border-gray-100" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:'100' }}">
                <div class="step-number">{{ forloop.counter }}</div>
                <div class="step-content">
                    <div class="flex justify-center items-center">
                        <div class="step-badge">
                            {{ forloop.counter }}
                        </div>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-3">
                        {{ obj.howitwoeks_title }}
                    </h3>
                    <p class="text-base text-gray-600 leading-relaxed">
                        {{ obj.howitwoeks_description }}
                    </p>
                </div>
            </div>
            {% empty %}
            <p class="col-span-3 text-center text-gray-500 py-8">No steps added yet.</p>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="py-16 px-4 bg-gradient-to-b from-green-50 to-green-100">
    <div class="max-w-7xl mx-auto">
        <div class="text-center mb-12" data-aos="fade-up">
            <h2 class="text-4xl md:text-5xl font-bold mb-4">{{index_webstats.title}}</h2>
            <p class="text-xl text-gray-600">{{index_webstats.description}}</p>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
            <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow" data-aos="fade-up" data-aos-delay="0">
                <div class="text-5xl md:text-6xl font-bold mb-2 bg-gradient-to-r from-green-600 to-green-500 bg-clip-text text-transparent">{{index_webstats.happy_customers}}+</div>
                <div class="text-lg md:text-xl text-gray-700 font-semibold">Happy Customers</div>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow" data-aos="fade-up" data-aos-delay="100">
                <div class="text-5xl md:text-6xl font-bold mb-2 bg-gradient-to-r from-green-600 to-green-500 bg-clip-text text-transparent">{{index_webstats.reviews}}/10</div>
                <div class="text-lg md:text-xl text-gray-700 font-semibold">Reviews</div>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow" data-aos="fade-up" data-aos-delay="200">
                <div class="text-5xl md:text-6xl font-bold mb-2 bg-gradient-to-r from-green-600 to-green-500 bg-clip-text text-transparent">{{index_webstats.total_partners}}</div>
                <div class="text-lg md:text-xl text-gray-700 font-semibold">Total Partners</div>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow" data-aos="fade-up" data-aos-delay="300">
                <div class="text-5xl md:text-6xl font-bold mb-2 bg-gradient-to-r from-green-600 to-green-500 bg-clip-text text-transparent">{{index_webstats.total_services}}</div>
                <div class="text-lg md:text-xl text-gray-700 font-semibold">Total Services</div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="py-16 px-4 bg-white">
    <div class="max-w-7xl mx-auto">
        <div class="text-center mb-12" data-aos="fade-up">
            <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">{{ customers_say.title }}</h2>
            <p class="text-xl text-gray-600 max-w-2xl mx-auto">{{ customers_say.description }}</p>
        </div>
        <div id="testimonial-slider" class="splide" data-aos="fade-up" data-aos-delay="100">
            <div class="splide__track">
                <ul class="splide__list">
                    {% for review in customers_say_obj %}
                    <li class="splide__slide">
                        <div class="bg-gradient-to-br from-gray-50 to-white rounded-2xl shadow-lg p-8 h-full flex flex-col hover:shadow-2xl transition-all border border-gray-100">
                            <div class="flex items-center mb-6">
                                <div class="text-yellow-400 flex gap-1">
                                    {% for star in "12345"|make_list %}
                                    <i class="bi bi-star-fill text-lg"></i>
                                    {% endfor %}
                                </div>
                            </div>
                            <p class="text-gray-700 text-lg mb-8 flex-grow leading-relaxed italic">
                                "{{ review.testimonial }}"
                            </p>
                            <div class="flex items-center pt-6 border-t border-gray-200">
                                {% if review.customer_image %}
                                <img src="{{ review.customer_image.url }}" 
                                     alt="{{ review.customer_name }}"
                                     class="w-14 h-14 rounded-full mr-4 object-cover border-2 border-green-500">
                                {% else %}
                                <img src="{% static 'image/team member3.jpg' %}" 
                                     alt="{{ review.customer_name }}"
                                     class="w-14 h-14 rounded-full mr-4 object-cover border-2 border-green-500">
                                {% endif %}
                                <div>
                                    <h4 class="font-bold text-gray-900 text-lg">
                                        {{ review.customer_name }}
                                    </h4>
                                    <p class="text-sm text-gray-600">
                                        {{ review.customer_position }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <div class="text-center mt-12">
            <button class="bg-gray-800 text-white px-12 py-4 rounded-lg text-lg font-semibold hover:bg-gray-700 hover:shadow-xl transition-all transform hover:-translate-y-1">
                Start Your Business Journey
            </button>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-20 px-4 bg-gradient-to-br from-green-600 to-green-700 relative overflow-hidden">
    <div class="absolute inset-0 bg-grid-pattern opacity-10"></div>
    <div class="max-w-4xl mx-auto text-center relative z-10" data-aos="fade-up">
        <h2 class="text-4xl md:text-5xl font-bold mb-6 text-white">Join 10,000+ Successful Business Owners</h2>
        <p class="text-xl md:text-2xl mb-8 text-green-50">Begin your journey towards success and join our community of satisfied customers.</p>
        <button class="bg-white text-green-700 px-12 py-5 rounded-lg text-lg font-bold hover:bg-gray-50 hover:shadow-2xl transition-all transform hover:-translate-y-1">
            Start Your Business Today
        </button>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide-extension-auto-scroll@0.5.3/dist/js/splide-extension-auto-scroll.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Hero image slider
        new Splide('#hero-slider', {
            type: 'fade',
            rewind: true,
            autoplay: true,
            interval: 5000,
            speed: 1500,
            pauseOnHover: false,
            pauseOnFocus: false,
            arrows: false,
            pagination: true,
            height: '100%',
        }).mount();

        // Logo slider (auto scroll)
        new Splide('#logo-slider', {
            type: 'loop',
            drag: 'free',
            focus: 'center',
            perPage: 5,
            gap: '1.5rem',
            arrows: false,
            pagination: false,
            autoScroll: {
                speed: 1,
            },
            breakpoints: {
                1024: { perPage: 3 },
                640: { perPage: 2 },
            },
        }).mount(window.splide.Extensions);

        // Testimonial slider
        new Splide('#testimonial-slider', {
            type: 'loop',
            perPage: 3,
            gap: '2rem',
            padding: '1rem',
            breakpoints: {
                1024: { perPage: 2 },
                640: { perPage: 1, padding: '0.5rem' },
            },
            pagination: true,
            arrows: true,
            autoplay: true,
            interval: 5000,
            pauseOnHover: true,
        }).mount();

        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true,
            offset: 100,
            easing: 'ease-in-out'
        });

        // Magnetic button effect
        const magneticButtons = document.querySelectorAll('.magnetic-btn');
        
        magneticButtons.forEach(button => {
            button.addEventListener('mousemove', function(e) {
                const rect = button.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                
                const deltaX = (x - centerX) / centerX;
                const deltaY = (y - centerY) / centerY;
                
                const maxMove = 10;
                const moveX = deltaX * maxMove;
                const moveY = deltaY * maxMove;
                
                button.style.transform = `translate(${moveX}px, ${moveY}px) translateY(-2px)`;
            });
            
            button.addEventListener('mouseleave', function() {
                button.style.transform = '';
            });
        });
    });
</script>
{% endblock %}